# Orochi User Guide

Orochiは、モダンなWebインターフェースを備えたBitTorrentクライアントです。このガイドでは、Orochiの使い方を詳しく説明します。

## 目次

1. [はじめに](#はじめに)
2. [インストール](#インストール)
3. [起動方法](#起動方法)
4. [基本的な使い方](#基本的な使い方)
5. [高度な機能](#高度な機能)
6. [トラブルシューティング](#トラブルシューティング)
7. [FAQ](#faq)

## はじめに

### 重要な法的注意事項

Orochiを使用する前に、以下の点をご確認ください：

- **著作権法の遵守**: 著作権で保護されたコンテンツを許可なくダウンロードまたは共有することは違法です
- **自己責任**: このソフトウェアの使用に関するすべての責任はユーザーにあります
- **合法的な用途のみ**: Orochiは合法的なファイル共有のためのツールです

### システム要件

- **OS**: Windows 10/11、macOS 10.15+、Linux（Ubuntu 20.04+推奨）
- **メモリ**: 512MB以上（推奨：1GB以上）
- **ディスク容量**: 100MB（アプリケーション用）+ ダウンロードファイル用の容量
- **ブラウザ**: Chrome、Firefox、Safari、Edgeの最新版

## インストール

### Windowsの場合

1. [リリースページ](https://github.com/ayutaz/orochi/releases)から最新版の`orochi-windows-amd64.exe`をダウンロード
2. ダウンロードしたファイルを任意のフォルダに配置
3. Windows Defenderの警告が表示された場合は、「詳細情報」→「実行」を選択

### macOSの場合

1. [リリースページ](https://github.com/ayutaz/orochi/releases)から最新版の`orochi-darwin-amd64`をダウンロード
2. ターミナルで実行権限を付与：
   ```bash
   chmod +x orochi-darwin-amd64
   ```
3. 初回実行時にセキュリティ警告が表示された場合は、システム環境設定から許可

### Linuxの場合

1. [リリースページ](https://github.com/ayutaz/orochi/releases)から最新版の`orochi-linux-amd64`をダウンロード
2. 実行権限を付与：
   ```bash
   chmod +x orochi-linux-amd64
   ```

## 起動方法

### 基本的な起動

```bash
# Windows
orochi.exe

# macOS/Linux
./orochi
```

起動すると、自動的にブラウザが開き、`http://localhost:8080`でWebインターフェースが表示されます。

### コマンドラインオプション

```bash
# ポートを変更して起動
orochi --port 9000

# ダウンロードディレクトリを指定
orochi --download-dir /path/to/downloads

# 実際のBitTorrentクライアントモードで起動（実験的機能）
orochi --real

# バージョン情報を表示
orochi --version
```

## 基本的な使い方

### トレントファイルの追加

#### 方法1：ドラッグ&ドロップ

1. Webインターフェースを開く
2. トレントファイル（.torrent）を画面にドラッグ&ドロップ
3. 複数ファイルの同時追加も可能

#### 方法2：ファイル選択ボタン

1. 画面上部の「＋」ボタンをクリック
2. 「ファイルを選択」をクリック
3. トレントファイルを選択して「開く」

#### 方法3：マグネットリンク

1. 画面上部の「＋」ボタンをクリック
2. 「マグネットリンク」タブを選択
3. マグネットリンクを貼り付けて「追加」をクリック

### ダウンロードの管理

#### ダウンロードの開始/停止

- **開始**: トレント一覧で「▶」ボタンをクリック
- **一時停止**: ダウンロード中のトレントで「⏸」ボタンをクリック
- **停止**: 「⏹」ボタンをクリック

#### 進捗の確認

各トレントには以下の情報が表示されます：

- **進捗バー**: ダウンロードの完了度を視覚的に表示
- **ダウンロード速度**: 現在のダウンロード速度（例：5.2 MB/s）
- **アップロード速度**: 現在のアップロード速度（例：1.0 MB/s）
- **残り時間**: 推定完了時間
- **ピア数**: 接続中のピア数

### ファイルの選択

1. トレントをクリックして詳細画面を開く
2. 「ファイル」タブを選択
3. ダウンロードしたいファイルにチェックを入れる
4. 「変更を保存」をクリック

## 高度な機能

### 設定の変更

設定画面（⚙アイコン）から以下の項目を変更できます：

#### 一般設定

- **言語**: 日本語/英語の切り替え
- **テーマ**: ライト/ダークモードの切り替え
- **ダウンロードフォルダ**: ファイルの保存先

#### ネットワーク設定

- **ポート番号**: BitTorrent通信用のポート（デフォルト：6881）
- **最大接続数**: 同時接続するピアの最大数
- **速度制限**:
  - ダウンロード速度上限（0 = 無制限）
  - アップロード速度上限（0 = 無制限）

#### プロトコル設定

- **DHT**: 分散ハッシュテーブルの有効/無効
- **ピア交換**: ピア情報の交換機能
- **ローカルピア探索**: LAN内のピア探索

### VPNバインディング（セキュリティ機能）

VPN接続時のみトレント通信を許可する機能です：

1. 設定画面で「VPN」タブを選択
2. 「VPNバインディングを有効にする」をチェック
3. 使用するVPNインターフェース（例：tun0）を選択
4. 「キルスイッチ」を有効にすると、VPN切断時に全通信を停止

### 認証機能

Webインターフェースへのアクセスを制限できます：

1. 設定画面で「セキュリティ」タブを選択
2. 「認証を有効にする」をチェック
3. ユーザー名とパスワードを設定
4. 「トークンの有効期限」を設定（デフォルト：24時間）

### API連携

OrochiはREST APIを提供しており、外部アプリケーションから制御できます：

- APIドキュメント: `http://localhost:8080/api-docs`
- 認証: Bearer tokenを使用
- WebSocket: リアルタイム更新の受信

## トラブルシューティング

### よくある問題と解決方法

#### Q: ブラウザが自動的に開かない

**A**: 手動でブラウザを開き、`http://localhost:8080`にアクセスしてください。

#### Q: "ポートが使用中"エラーが表示される

**A**: 別のポートを指定して起動してください：
```bash
orochi --port 9000
```

#### Q: ダウンロードが開始されない

**A**: 以下を確認してください：
1. トレントにシーダー（配信者）が存在するか
2. ファイアウォールがポート6881を許可しているか
3. VPNバインディングが有効な場合、VPNが接続されているか

#### Q: 速度が遅い

**A**: 以下を試してください：
1. 最大接続数を増やす（設定 → ネットワーク）
2. 速度制限を確認・解除する
3. 他のP2Pアプリケーションを終了する

### ログの確認

デバッグ情報が必要な場合：

1. コンソール（ターミナル）でログを確認
2. より詳細なログが必要な場合は、環境変数を設定：
   ```bash
   export LOG_LEVEL=debug
   ./orochi
   ```

## FAQ

### Q: Orochiは無料ですか？

**A**: はい、OrochiはMITライセンスの下で提供される無料のオープンソースソフトウェアです。

### Q: 複数のデバイスから同時にアクセスできますか？

**A**: はい、同じネットワーク内の他のデバイスからもアクセス可能です。その場合は、サーバーのIPアドレスを使用してください（例：`http://192.168.1.100:8080`）。

### Q: ダウンロードしたファイルはどこに保存されますか？

**A**: デフォルトでは`./downloads`フォルダに保存されます。設定画面から変更可能です。

### Q: シード（アップロード）は自動的に行われますか？

**A**: はい、ダウンロード完了後も自動的にシード状態になります。手動で停止するまでアップロードを継続します。

### Q: ポートフォワーディングは必要ですか？

**A**: 必須ではありませんが、設定することで接続性が向上し、より高速なダウンロードが可能になります。

### Q: 安全に使用するためのヒントは？

**A**: 
1. 信頼できるトレントファイルのみを使用する
2. VPNバインディング機能を活用する
3. 定期的にソフトウェアを更新する
4. 著作権法を遵守する

## サポート

問題が解決しない場合は、以下の方法でサポートを受けられます：

- **GitHub Issues**: [バグ報告・機能要望](https://github.com/ayutaz/orochi/issues)
- **ディスカッション**: [GitHub Discussions](https://github.com/ayutaz/orochi/discussions)
- **ドキュメント**: [開発者向けドキュメント](https://github.com/ayutaz/orochi/blob/main/README.md)

---

最終更新日: 2024年1月